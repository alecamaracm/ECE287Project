
//--  This file was automatically generated by the PowerPoint2Verilog compiler. Please do not change anything and use the compiler instead --//

module PP2VerilogDrawingController(CLOCK,reset,animationCLOCK,wasd,arrows,xPixel,yPixel,VGAr,VGAg,VGAb,mouseX,mouseY,peterX,peterY);

input CLOCK;
input animationCLOCK;
input [3:0]wasd;
input [3:0]arrows;
input [9:0]xPixel;
input[8:0]yPixel;
input [10:0]mouseX;
input [10:0]mouseY;
output [7:0]VGAr;
output [7:0]VGAg;
output [7:0]VGAb;
reg [7:0]VGAr;
reg [7:0]VGAg;
reg [7:0]VGAb;
reg [15:0]buffer;
input reset;
input [9:0]peterX;
input [9:0]peterY;

always @(*)
begin

	//Writing backgound color
	VGAr = 8'b11111111;
	VGAg = 8'b11111111; 
	VGAb = 8'b11111111; 

	if(yPixel>=einsteinY && yPixel<einsteinY+(156*1) && xPixel>=einsteinX && xPixel<einsteinX+(139*1))
	begin
		VGAr=einsteinq[14:10]*8;
		VGAg=einsteinq[9:5]*8;
		VGAb=einsteinq[4:0]*8;
	end

	//Drawing Solid shape "Basictransparency"
	//   --> Allowed 50% transparent render
	if(xPixel>BasictransparencyX && xPixel<BasictransparencyX+130 && yPixel>BasictransparencyY && yPixel<BasictransparencyY+68)
	begin
		VGAr = (8'b01110000 + VGAr) / 2;
		VGAg = (8'b10101101 + VGAg) / 2;
		VGAb = (8'b01000111 + VGAb) / 2;
		if(xPixel<BasictransparencyX+3 || xPixel>BasictransparencyX+127 || yPixel<BasictransparencyY+3 || yPixel>BasictransparencyY+65)    //Drawing border
		begin
			VGAr = 8'b11110100;
			VGAg = 8'b10110001;
			VGAb = 8'b10000011;
		end
	end

	if(yPixel>=peterY && yPixel<peterY+(156*1) && xPixel>=peterX && xPixel<peterX+(156*1))
	begin
		VGAr=peterq[14:10]*8;
		VGAg=peterq[9:5]*8;
		VGAb=peterq[4:0]*8;
	end

end

wire [9:0]einsteinX;
wire [9:0]einsteinY;
wire [9:0]BasictransparencyX;
wire [9:0]BasictransparencyY;


animations anim1(animationCLOCK,reset,wasd,arrows,BasictransparencyX,BasictransparencyY,einsteinX,einsteinY);
wire [14:0]einsteinq;
rameinstein einsteinram((((yPixel-einsteinY)/1)*139 +((xPixel-einsteinX)/1)+1),CLOCK,15'd0,0,einsteinq);
wire [14:0]peterq;
rampeter peterram((((yPixel-peterY)/1)*156 +((xPixel-peterX)/1)+1),CLOCK,15'd0,0,peterq);

endmodule

module animations(animationCLOCK,reset,wasd,arrows,BasictransparencyX,BasictransparencyY,einsteinX,einsteinY);

input reset;
output [9:0]einsteinX;
reg [9:0]einsteinX;
output [9:0]einsteinY;
reg [9:0]einsteinY;
output [9:0]BasictransparencyX;
reg [9:0]BasictransparencyX;
reg BasictransparencyXDir;
output [9:0]BasictransparencyY;
reg [9:0]BasictransparencyY;
reg BasictransparencyYDir;
input animationCLOCK;
input [3:0]arrows;
input [3:0]wasd;
reg initilized;

always @ (posedge animationCLOCK)
begin

	if(reset==0 || initilized==0)
	begin
		initilized=1;
		einsteinX=84;
		einsteinY=295;
		BasictransparencyX=12;
		BasictransparencyY=190;
	end

	//Writing WASD movement for einsteinX:
	if(wasd[1]==1 && einsteinX>0) einsteinX=einsteinX-1;
	if (wasd[3] == 1 && einsteinX < 640 - 139) einsteinX = einsteinX + 1;
	if(wasd[0]==1 && einsteinY>0) einsteinY=einsteinY-1;
	if(wasd[2]==1 && einsteinY<480-156) einsteinY=einsteinY+1;


	//Writing Bouncing movement for BasictransparencyX:
	if(BasictransparencyXDir==1)
	begin
		if (BasictransparencyX >= 640 - 130)
		begin
			BasictransparencyXDir = 0;
		end
		else
		begin
			BasictransparencyX <= BasictransparencyX + 10;
		end
	end
	else
	begin
		if (BasictransparencyX <= 0)
		begin
			BasictransparencyXDir = 1;
		end
		else
		begin
			BasictransparencyX <= BasictransparencyX - 10;
		end
	end
	if(BasictransparencyYDir==1)
	begin
		if (BasictransparencyY >= 480 - 68)
		begin
			BasictransparencyYDir = 0;
		end
		else
		begin
			BasictransparencyY <= BasictransparencyY + 10;
		end
	end
	else
	begin
		if (BasictransparencyY <= 0)
		begin
			BasictransparencyYDir = 1;
		end
		else
		begin
			BasictransparencyY <= BasictransparencyY - 10;
		end
	end
end

endmodule
